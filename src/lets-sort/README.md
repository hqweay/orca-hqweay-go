# lets-sort 插件文档

本插件提供多选块排序功能，旨在帮助用户快速整理文档内容。

## 排序逻辑

排序过程遵循以下优先级规则：

1.  **任务块优先**
    *   插件首先识别**任务块**（Task/Todo）。
    *   识别依据：
        *   检查块的 `properties` 中名为 `_repr` 的属性。
        *   如果该属性值的 `type` 字段为 `"task"`，则视为任务块。
    *   所有任务块都会被排在非任务块（如普通文本、标题、代码块等）之前。

2.  **任务状态排序**
    *   在任务块内部，进行二级排序：
        *   **未完成任务**（Unchecked）排在最前。
        *   **已完成任务**（Checked/Done）排在未完成任务之后。
    *   判断依据：检查 `_repr` 属性值的 `state` 字段。`state: 1` 表示已完成，其他值表示未完成。

3.  **文本内容排序**
    *   **空块与文本块**：
        *   如果不属于任务块，则统一视为普通内容块。
        *   在同一类别（例如都是未完成任务，或都是普通文本块）中，按照文本内容的**字典序**（Alphabetical Order）进行升序排列。
    *   **空块处理**：
        *   由于空块的文本内容为空字符串 `""`，根据字典序规则，它们通常会被排在有内容的文本块**之前**。
    *   **非文本块**（如图片、附件等）：
        *   如果无法获取文本内容，则视为内容为空，同样参与字典序排列。

## 总结
排序后的最终顺序为：
1.  **未完成任务**（按文本 A-Z 排序）
2.  **已完成任务**（按文本 A-Z 排序）
3.  **普通块**（包括空块、文本、标题等，按文本 A-Z 排序，空块通常在最前）
